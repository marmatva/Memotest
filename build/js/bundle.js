const gameButton=document.querySelector(".start"),gameContainer=document.querySelector(".main-container.game"),gameOverlay=document.querySelector(".game-overlay");let userSelection=[];function startApp(){asignImages(),window.addEventListener("DOMContentLoaded",(()=>{setTimeout(styleOverlay,500)})),gameButton.onclick=startGame}function startGame(){styleOverlay(),gameButton.onclick=restart,userSelection=[],unblockUserInput()}function restart(){cleanCards(),asignImages(),styleOverlay(),userSelection=[],unblockUserInput()}function userWon(){if(!document.querySelector(".userWon-p")){const e=document.createElement("H2");e.textContent="Ganaste!",e.classList.add("userWon-p"),gameOverlay.prepend(e)}gameButton.textContent="Empezar de Nuevo!",setTimeout(styleOverlay,500)}function blockUserInput(){document.querySelectorAll(".cover").forEach((e=>{e.onclick=()=>{}}))}function unblockUserInput(){document.querySelectorAll(".cover").forEach((e=>{e.firstElementChild.classList.contains("transparent")&&(e.onclick=manageInput)}))}function manageInput(e){let t=e.target;"IMG"==!e.target.tagName&&(t=e.target.firstElementChild,console.log(t)),userSelection.push(t),t.classList.remove("transparent"),t.classList.add("visible"),testSelection()}function testSelection(){2==userSelection.length&&(blockUserInput(),userSelection[0].src==userSelection[1].src?(userSelection=[],0==document.querySelectorAll(".transparent").length&&userWon(),unblockUserInput()):setTimeout((()=>{userSelection.forEach((e=>{e.classList.remove("visible"),e.classList.add("transparent")})),userSelection=[],unblockUserInput()}),500))}function asignImages(){const e=document.querySelectorAll(".cover"),t=[0,0,0,0,0,0];let n=0;for(;n<e.length;){let o=Math.floor(Math.random()*(e.length/2));if(2!=t[o]){let r=document.createElement("IMG");r.src=`build/img/${o+1}.jpg`,r.classList.add("transparent"),e[n].appendChild(r),t[o]++,n++}}}function cleanCards(){document.querySelectorAll(".cover").forEach((e=>{e.firstElementChild.remove()}))}function styleOverlay(){gameOverlay.classList.toggle("overlay-on")}document.addEventListener("DOMContentLoaded",(()=>{startApp()}));
//# sourceMappingURL=bundle.js.map
