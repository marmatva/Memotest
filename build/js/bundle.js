const gameButton=document.querySelector(".start"),gameContainer=document.querySelector(".game-container"),gameOverlay=document.querySelector(".game-overlay");let userSelection=[];function startApp(){asignImages(),window.addEventListener("DOMContentLoaded",(()=>{setTimeout(styleOverlay,500)})),gameButton.onclick=startGame}function startGame(){styleOverlay(),gameButton.onclick=restart,userSelection=[],unblockUserInput()}function restart(){cleanCards(),asignImages(),styleOverlay(),userSelection=[],unblockUserInput()}function userWon(){if(!document.querySelector(".userWon-p")){const e=document.createElement("H2");e.textContent="Ganaste!",e.classList.add("userWon-p"),gameOverlay.prepend(e)}gameButton.textContent="Empezar de Nuevo!",setTimeout(styleOverlay,500)}function blockUserInput(){gameContainer.onclick=()=>{}}function unblockUserInput(){gameContainer.onclick=manageInput}function manageInput(e){if(e.target.classList.contains("game-container")||e.target.classList.contains("found")||e.target.parentElement.classList.contains("found"))return;let t=e.target;"IMG"!==e.target.tagName&&(t=e.target.firstElementChild),1===userSelection.length&&userSelection[0]===t||(userSelection.push(t),t.classList.remove("transparent"),t.classList.add("visible"),testSelection())}function testSelection(){if(2==userSelection.length)if(blockUserInput(),userSelection[0].src==userSelection[1].src){let e=userSelection;setTimeout((()=>{e.forEach((e=>{e.parentElement.classList.add("found")}))}),500),userSelection=[],0==document.querySelectorAll("img.transparent").length&&userWon(),unblockUserInput()}else setTimeout((()=>{userSelection.forEach((e=>{e.classList.remove("visible"),e.classList.add("transparent")})),userSelection=[],unblockUserInput()}),500)}function asignImages(){const e=document.querySelectorAll(".cover"),t=[0,0,0,0,0,0];let n=0;for(;n<e.length;){let s=Math.floor(Math.random()*(e.length/2));if(2!=t[s]){let o=document.createElement("IMG");o.src=`build/img/${s+1}.jpg`,o.classList.add("transparent"),e[n].appendChild(o),t[s]++,n++}}}function cleanCards(){document.querySelectorAll(".cover").forEach((e=>{e.classList.remove("found"),e.firstElementChild.remove()}))}function styleOverlay(){gameOverlay.classList.toggle("overlay-on")}document.addEventListener("DOMContentLoaded",(()=>{startApp()}));
//# sourceMappingURL=bundle.js.map
