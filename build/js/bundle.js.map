{"version":3,"sources":["app.js"],"names":["gameButton","document","querySelector","gameContainer","userSelection","startApp","asignImages","onclick","startGame","textContent","restart","unblockUserInput","cleanCards","classList","contains","remove","userWon","div","result","createElement","setTimeout","add","appendChild","blockUserInput","querySelectorAll","forEach","cover","firstElementChild","manageInput","e","img","target","push","testSelection","length","src","cards","asigmentsCounter","i","j","Math","floor","random","addEventListener"],"mappings":"AAAA,MAAAA,WAAAC,SAAAC,cAAA,UACAC,cAAAF,SAAAC,cAAA,mBACA,IAAAE,cAAA,GAEA,SAAAC,WACAC,cACAN,WAAAO,QAAAC,UAGA,SAAAA,YACAR,WAAAS,YAAA,YACAT,WAAAO,QAAAG,QACAN,cAAA,GAEAO,mBAGA,SAAAD,UACAE,aACAN,cACAH,cAAAU,UAAAC,SAAA,cACAX,cAAAU,UAAAE,OAAA,aAEAX,cAAA,GACAO,mBAGA,SAAAK,UACA,MAAAC,EAAAhB,SAAAC,cAAA,gBAEAgB,EAAAjB,SAAAkB,cAAA,MACAD,EAAAT,YAAA,WAEAW,YAAA,KACAjB,cAAAU,UAAAQ,IAAA,aACAJ,EAAAK,YAAAJ,GACAlB,WAAAS,YAAA,sBACA,KAIA,SAAAc,iBACAtB,SAAAuB,iBAAA,UACAC,SAAAC,IACAA,EAAAnB,QAAA,UAIA,SAAAI,mBACAV,SAAAuB,iBAAA,UAEAC,SAAAC,IACAA,EAAAC,kBAAAd,UAAAC,SAAA,iBACAY,EAAAnB,QAAAqB,gBAKA,SAAAA,YAAAC,GACAC,IAAAD,EAAAE,OAAAJ,kBACAvB,cAAA4B,KAAAF,KACAA,IAAAjB,UAAAE,OAAA,eACAkB,gBAGA,SAAAA,gBACA,GAAA7B,cAAA8B,SACAX,iBACAnB,cAAA,GAAA+B,KAAA/B,cAAA,GAAA+B,KACA/B,cAAA,GACA,GAAAH,SAAAuB,iBAAA,gBAAAU,QACAlB,UAEAL,oBAEAS,YAAA,KACAhB,cAAAqB,SAAAK,IACAA,EAAAjB,UAAAQ,IAAA,kBAEAjB,cAAA,GACAO,qBACA,MAMA,SAAAL,cACA,MAAA8B,EAAAnC,SAAAuB,iBAAA,UACAa,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAAC,EAAA,EACA,KAAAA,EAAAF,EAAAF,QAAA,CACA,IAAAK,EAAAC,KAAAC,MAAAD,KAAAE,UAAAN,EAAAF,OAAA,IACA,GAAA,GAAAG,EAAAE,GAAA,CACA,IAAAT,EAAA7B,SAAAkB,cAAA,OACAW,EAAAK,IAAA,aAAAI,EAAA,QACAT,EAAAjB,UAAAQ,IAAA,eACAe,EAAAE,GAAAhB,YAAAQ,GACAO,EAAAE,KACAD,MAMA,SAAA1B,aACAX,SAAAuB,iBAAA,UACAC,SAAAC,IACAA,EAAAC,kBAAAZ,YAIAd,SAAA0C,iBAAA,oBAAA,KACAtC","file":"bundle.js","sourcesContent":["const gameButton = document.querySelector('.start');\r\nconst gameContainer = document.querySelector('.game-container');\r\nlet userSelection=[];\r\n\r\nfunction startApp(){\r\n    asignImages();\r\n    gameButton.onclick=startGame;\r\n}\r\n\r\nfunction startGame(){\r\n    gameButton.textContent=\"Reiniciar\";\r\n    gameButton.onclick=restart;\r\n    userSelection=[];\r\n    //gameRound();\r\n    unblockUserInput();\r\n}\r\n\r\nfunction restart(){\r\n    cleanCards();\r\n    asignImages();\r\n    if(gameContainer.classList.contains('invisible')){\r\n        gameContainer.classList.remove('invisible');\r\n    }\r\n    userSelection=[];\r\n    unblockUserInput();\r\n}\r\n\r\nfunction userWon(){\r\n    const div= document.querySelector('.game-result');\r\n\r\n    const result=document.createElement('H2');\r\n    result.textContent=\"Ganaste!\";\r\n    \r\n    setTimeout(()=>{\r\n        gameContainer.classList.add('invisible');\r\n        div.appendChild(result);\r\n        gameButton.textContent=\"Empezar de Nuevo!\"\r\n    },500);\r\n}\r\n\r\n\r\nfunction blockUserInput(){\r\n    const covers=document.querySelectorAll('.cover');\r\n    covers.forEach( cover => {\r\n        cover.onclick=()=>{}\r\n    })\r\n}\r\n\r\nfunction unblockUserInput(){\r\n    const covers=document.querySelectorAll('.cover');\r\n\r\n    covers.forEach( cover => {\r\n        if(cover.firstElementChild.classList.contains('transparent')){\r\n            cover.onclick=manageInput;\r\n        }\r\n    })\r\n}\r\n\r\nfunction manageInput(e){\r\n    img=e.target.firstElementChild;\r\n    userSelection.push(img);\r\n    img.classList.remove('transparent');\r\n    testSelection();\r\n}\r\n\r\nfunction testSelection(){\r\n    if (userSelection.length == 2){\r\n        blockUserInput();\r\n        if(userSelection[0].src==userSelection[1].src){\r\n            userSelection=[];\r\n            if(document.querySelectorAll('.transparent').length==0){\r\n                userWon();\r\n            }\r\n            unblockUserInput();\r\n        } else{\r\n            setTimeout(()=>{\r\n                userSelection.forEach( img =>{\r\n                    img.classList.add('transparent')\r\n                })\r\n                userSelection=[];\r\n                unblockUserInput();\r\n            },1000);\r\n            \r\n        }\r\n    }\r\n}\r\n\r\nfunction asignImages(){\r\n    const cards=document.querySelectorAll('.cover');\r\n    const asigmentsCounter=[0,0,0,0,0,0];\r\n    let i=0;\r\n    while(i<cards.length){\r\n        let j=Math.floor(Math.random()*(cards.length/2));\r\n        if(!(asigmentsCounter[j]==2)){\r\n            let img = document.createElement('IMG');\r\n            img.src=`build/img/${j+1}.jpg`;\r\n            img.classList.add('transparent');\r\n            cards[i].appendChild(img);\r\n            asigmentsCounter[j]++;\r\n            i++;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction cleanCards(){\r\n    const covers=document.querySelectorAll('.cover');\r\n    covers.forEach( cover => {\r\n        cover.firstElementChild.remove();\r\n    })\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', ()=>{\r\n    startApp();\r\n})"]}