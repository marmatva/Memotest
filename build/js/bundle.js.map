{"version":3,"sources":["app.js"],"names":["gameButton","document","querySelector","gameContainer","gameOverlay","userSelection","startApp","asignImages","window","addEventListener","setTimeout","styleOverlay","onclick","startGame","restart","unblockUserInput","cleanCards","userWon","result","createElement","textContent","classList","add","prepend","blockUserInput","manageInput","e","target","contains","parentElement","img","tagName","firstElementChild","length","push","remove","testSelection","src","userRightGuess","forEach","querySelectorAll","cards","asigmentsCounter","i","j","Math","floor","random","appendChild","cover","toggle"],"mappings":"AAAA,MAAAA,WAAAC,SAAAC,cAAA,UACAC,cAAAF,SAAAC,cAAA,mBACAE,YAAAH,SAAAC,cAAA,iBACA,IAAAG,cAAA,GAEA,SAAAC,WACAC,cACAC,OAAAC,iBAAA,oBAAA,KACAC,WAAAC,aAAA,QAEAX,WAAAY,QAAAC,UAGA,SAAAA,YACAF,eACAX,WAAAY,QAAAE,QACAT,cAAA,GACAU,mBAGA,SAAAD,UACAE,aACAT,cACAI,eACAN,cAAA,GACAU,mBAGA,SAAAE,UACA,IAAAhB,SAAAC,cAAA,cAAA,CACA,MAAAgB,EAAAjB,SAAAkB,cAAA,MACAD,EAAAE,YAAA,WACAF,EAAAG,UAAAC,IAAA,aACAlB,YAAAmB,QAAAL,GAEAlB,WAAAoB,YAAA,oBACAV,WAAAC,aAAA,KAIA,SAAAa,iBACArB,cAAAS,QAAA,OAOA,SAAAG,mBACAZ,cAAAS,QAAAa,YAUA,SAAAA,YAAAC,GACA,GAAAA,EAAAC,OAAAN,UAAAO,SAAA,mBAAAF,EAAAC,OAAAN,UAAAO,SAAA,UAAAF,EAAAC,OAAAE,cAAAR,UAAAO,SAAA,SACA,OAEA,IAAAE,EAAAJ,EAAAC,OACA,QAAAD,EAAAC,OAAAI,UACAD,EAAAJ,EAAAC,OAAAK,mBAEA,IAAA3B,cAAA4B,QAAA5B,cAAA,KAAAyB,IAGAzB,cAAA6B,KAAAJ,GACAA,EAAAT,UAAAc,OAAA,eACAL,EAAAT,UAAAC,IAAA,WACAc,iBAGA,SAAAA,gBACA,GAAA,GAAA/B,cAAA4B,OAEA,GADAT,iBACAnB,cAAA,GAAAgC,KAAAhC,cAAA,GAAAgC,IAAA,CACA,IAAAC,EAAAjC,cACAK,YAAA,KACA4B,EAAAC,SAAAT,IACAA,EAAAD,cAAAR,UAAAC,IAAA,cAEA,KACAjB,cAAA,GACA,GAAAJ,SAAAuC,iBAAA,mBAAAP,QACAhB,UAEAF,wBAEAL,YAAA,KACAL,cAAAkC,SAAAT,IACAA,EAAAT,UAAAc,OAAA,WACAL,EAAAT,UAAAC,IAAA,kBAEAjB,cAAA,GACAU,qBACA,KAMA,SAAAR,cACA,MAAAkC,EAAAxC,SAAAuC,iBAAA,UACAE,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAAC,EAAA,EACA,KAAAA,EAAAF,EAAAR,QAAA,CACA,IAAAW,EAAAC,KAAAC,MAAAD,KAAAE,UAAAN,EAAAR,OAAA,IACA,GAAA,GAAAS,EAAAE,GAAA,CACA,IAAAd,EAAA7B,SAAAkB,cAAA,OACAW,EAAAO,IAAA,aAAAO,EAAA,QACAd,EAAAT,UAAAC,IAAA,eACAmB,EAAAE,GAAAK,YAAAlB,GACAY,EAAAE,KACAD,MAMA,SAAA3B,aACAf,SAAAuC,iBAAA,UACAD,SAAAU,IACAA,EAAA5B,UAAAc,OAAA,SACAc,EAAAjB,kBAAAG,YAIA,SAAAxB,eACAP,YAAAiB,UAAA6B,OAAA,cAGAjD,SAAAQ,iBAAA,oBAAA,KACAH","file":"bundle.js","sourcesContent":["const gameButton = document.querySelector('.start');\r\nconst gameContainer = document.querySelector('.game-container');\r\nconst gameOverlay = document.querySelector('.game-overlay');\r\nlet userSelection=[];\r\n\r\nfunction startApp(){\r\n    asignImages();\r\n    window.addEventListener('DOMContentLoaded', ()=>{\r\n        setTimeout(styleOverlay,500);\r\n    })\r\n    gameButton.onclick=startGame;\r\n}\r\n\r\nfunction startGame(){ //ACTUALIZAR!!\r\n    styleOverlay();\r\n    gameButton.onclick=restart;\r\n    userSelection=[];\r\n    unblockUserInput();\r\n}\r\n\r\nfunction restart(){\r\n    cleanCards();\r\n    asignImages();\r\n    styleOverlay();\r\n    userSelection=[];\r\n    unblockUserInput();\r\n}\r\n\r\nfunction userWon(){\r\n    if(!document.querySelector('.userWon-p')){\r\n        const result=document.createElement('H2');\r\n        result.textContent=\"Ganaste!\";\r\n        result.classList.add('userWon-p');\r\n        gameOverlay.prepend(result);\r\n    }\r\n    gameButton.textContent=\"Empezar de Nuevo!\";\r\n    setTimeout(styleOverlay,500);\r\n}\r\n\r\n\r\nfunction blockUserInput(){\r\n    gameContainer.onclick=()=>{};\r\n    // const covers=document.querySelectorAll('.cover');\r\n    // covers.forEach( cover => {\r\n    //     cover.onclick=()=>{}\r\n    // })\r\n}\r\n\r\nfunction unblockUserInput(){\r\n    gameContainer.onclick=manageInput;\r\n    // const covers=document.querySelectorAll('.cover');\r\n\r\n    // covers.forEach( cover => {\r\n    //     if(cover.firstElementChild.classList.contains('transparent')){\r\n    //         cover.onclick=manageInput;\r\n    //     }\r\n    // })\r\n}\r\n\r\nfunction manageInput(e){\r\n    if(e.target.classList.contains('game-container') || e.target.classList.contains('found') || e.target.parentElement.classList.contains('found')){\r\n        return;\r\n    }\r\n    let img=e.target;\r\n    if(!(e.target.tagName === 'IMG')){\r\n        img=e.target.firstElementChild;\r\n    }\r\n    if(userSelection.length===1 && userSelection[0]===img){\r\n        return;\r\n    }\r\n    userSelection.push(img);\r\n    img.classList.remove('transparent');\r\n    img.classList.add('visible');\r\n    testSelection();\r\n}\r\n\r\nfunction testSelection(){\r\n    if (userSelection.length == 2){\r\n        blockUserInput();\r\n        if(userSelection[0].src==userSelection[1].src){\r\n            let userRightGuess = userSelection;\r\n            setTimeout(()=>{\r\n                userRightGuess.forEach( img => {\r\n                    img.parentElement.classList.add('found');\r\n                })\r\n            },500)\r\n            userSelection=[];\r\n            if(document.querySelectorAll('img.transparent').length==0){\r\n                userWon();\r\n            }\r\n            unblockUserInput();\r\n        } else{\r\n            setTimeout(()=>{\r\n                userSelection.forEach( img =>{\r\n                    img.classList.remove('visible');\r\n                    img.classList.add('transparent');\r\n                })\r\n                userSelection=[];\r\n                unblockUserInput();\r\n            },500);\r\n            \r\n        }\r\n    }\r\n}\r\n\r\nfunction asignImages(){\r\n    const cards=document.querySelectorAll('.cover');\r\n    const asigmentsCounter=[0,0,0,0,0,0];\r\n    let i=0;\r\n    while(i<cards.length){\r\n        let j=Math.floor(Math.random()*(cards.length/2));\r\n        if(!(asigmentsCounter[j]==2)){\r\n            let img = document.createElement('IMG');\r\n            img.src=`build/img/${j+1}.jpg`;\r\n            img.classList.add('transparent');\r\n            cards[i].appendChild(img);\r\n            asigmentsCounter[j]++;\r\n            i++;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction cleanCards(){\r\n    const covers=document.querySelectorAll('.cover');\r\n    covers.forEach( cover => {\r\n        cover.classList.remove('found');\r\n        cover.firstElementChild.remove();\r\n    })\r\n}\r\n\r\nfunction styleOverlay(){\r\n    gameOverlay.classList.toggle('overlay-on');\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', ()=>{\r\n    startApp();\r\n})"]}