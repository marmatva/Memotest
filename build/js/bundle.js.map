{"version":3,"sources":["app.js"],"names":["gameButton","document","querySelector","gameContainer","gameOverlay","userSelection","startApp","asignImages","window","addEventListener","setTimeout","styleOverlay","onclick","startGame","restart","unblockUserInput","cleanCards","userWon","result","createElement","textContent","classList","add","prepend","blockUserInput","querySelectorAll","forEach","cover","firstElementChild","contains","manageInput","e","img","target","tagName","console","log","push","remove","testSelection","length","src","cards","asigmentsCounter","i","j","Math","floor","random","appendChild","toggle"],"mappings":"AAAA,MAAAA,WAAAC,SAAAC,cAAA,UACAC,cAAAF,SAAAC,cAAA,wBACAE,YAAAH,SAAAC,cAAA,iBACA,IAAAG,cAAA,GAEA,SAAAC,WACAC,cACAC,OAAAC,iBAAA,oBAAA,KACAC,WAAAC,aAAA,QAEAX,WAAAY,QAAAC,UAGA,SAAAA,YACAF,eACAX,WAAAY,QAAAE,QACAT,cAAA,GACAU,mBAGA,SAAAD,UACAE,aACAT,cACAI,eACAN,cAAA,GACAU,mBAGA,SAAAE,UACA,IAAAhB,SAAAC,cAAA,cAAA,CACA,MAAAgB,EAAAjB,SAAAkB,cAAA,MACAD,EAAAE,YAAA,WACAF,EAAAG,UAAAC,IAAA,aACAlB,YAAAmB,QAAAL,GAEAlB,WAAAoB,YAAA,oBACAV,WAAAC,aAAA,KAIA,SAAAa,iBACAvB,SAAAwB,iBAAA,UACAC,SAAAC,IACAA,EAAAf,QAAA,UAIA,SAAAG,mBACAd,SAAAwB,iBAAA,UAEAC,SAAAC,IACAA,EAAAC,kBAAAP,UAAAQ,SAAA,iBACAF,EAAAf,QAAAkB,gBAKA,SAAAA,YAAAC,GACA,IAAAC,EAAAD,EAAAE,OACA,QAAAF,EAAAE,OAAAC,UACAF,EAAAD,EAAAE,OAAAL,kBACAO,QAAAC,IAAAJ,IAEA3B,cAAAgC,KAAAL,GACAA,EAAAX,UAAAiB,OAAA,eACAN,EAAAX,UAAAC,IAAA,WACAiB,gBAGA,SAAAA,gBACA,GAAAlC,cAAAmC,SACAhB,iBACAnB,cAAA,GAAAoC,KAAApC,cAAA,GAAAoC,KACApC,cAAA,GACA,GAAAJ,SAAAwB,iBAAA,gBAAAe,QACAvB,UAEAF,oBAEAL,YAAA,KACAL,cAAAqB,SAAAM,IACAA,EAAAX,UAAAiB,OAAA,WACAN,EAAAX,UAAAC,IAAA,kBAEAjB,cAAA,GACAU,qBACA,MAMA,SAAAR,cACA,MAAAmC,EAAAzC,SAAAwB,iBAAA,UACAkB,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAAC,EAAA,EACA,KAAAA,EAAAF,EAAAF,QAAA,CACA,IAAAK,EAAAC,KAAAC,MAAAD,KAAAE,UAAAN,EAAAF,OAAA,IACA,GAAA,GAAAG,EAAAE,GAAA,CACA,IAAAb,EAAA/B,SAAAkB,cAAA,OACAa,EAAAS,IAAA,aAAAI,EAAA,QACAb,EAAAX,UAAAC,IAAA,eACAoB,EAAAE,GAAAK,YAAAjB,GACAW,EAAAE,KACAD,MAMA,SAAA5B,aACAf,SAAAwB,iBAAA,UACAC,SAAAC,IACAA,EAAAC,kBAAAU,YAIA,SAAA3B,eACAP,YAAAiB,UAAA6B,OAAA,cAGAjD,SAAAQ,iBAAA,oBAAA,KACAH","file":"bundle.js","sourcesContent":["const gameButton = document.querySelector('.start');\r\nconst gameContainer = document.querySelector('.main-container.game');\r\nconst gameOverlay = document.querySelector('.game-overlay');\r\nlet userSelection=[];\r\n\r\nfunction startApp(){\r\n    asignImages();\r\n    window.addEventListener('DOMContentLoaded', ()=>{\r\n        setTimeout(styleOverlay,500);\r\n    })\r\n    gameButton.onclick=startGame;\r\n}\r\n\r\nfunction startGame(){ //ACTUALIZAR!!\r\n    styleOverlay();\r\n    gameButton.onclick=restart;\r\n    userSelection=[];\r\n    unblockUserInput();\r\n}\r\n\r\nfunction restart(){\r\n    cleanCards();\r\n    asignImages();\r\n    styleOverlay();\r\n    userSelection=[];\r\n    unblockUserInput();\r\n}\r\n\r\nfunction userWon(){\r\n    if(!document.querySelector('.userWon-p')){\r\n        const result=document.createElement('H2');\r\n        result.textContent=\"Ganaste!\";\r\n        result.classList.add('userWon-p');\r\n        gameOverlay.prepend(result);\r\n    }\r\n    gameButton.textContent=\"Empezar de Nuevo!\";\r\n    setTimeout(styleOverlay,500);\r\n}\r\n\r\n\r\nfunction blockUserInput(){\r\n    const covers=document.querySelectorAll('.cover');\r\n    covers.forEach( cover => {\r\n        cover.onclick=()=>{}\r\n    })\r\n}\r\n\r\nfunction unblockUserInput(){\r\n    const covers=document.querySelectorAll('.cover');\r\n\r\n    covers.forEach( cover => {\r\n        if(cover.firstElementChild.classList.contains('transparent')){\r\n            cover.onclick=manageInput;\r\n        }\r\n    })\r\n}\r\n\r\nfunction manageInput(e){\r\n    let img=e.target;\r\n    if(!e.target.tagName == 'IMG'){\r\n        img=e.target.firstElementChild;\r\n        console.log(img);\r\n    }\r\n    userSelection.push(img);\r\n    img.classList.remove('transparent');\r\n    img.classList.add('visible');\r\n    testSelection();\r\n}\r\n\r\nfunction testSelection(){\r\n    if (userSelection.length == 2){\r\n        blockUserInput();\r\n        if(userSelection[0].src==userSelection[1].src){\r\n            userSelection=[];\r\n            if(document.querySelectorAll('.transparent').length==0){\r\n                userWon();\r\n            }\r\n            unblockUserInput();\r\n        } else{\r\n            setTimeout(()=>{\r\n                userSelection.forEach( img =>{\r\n                    img.classList.remove('visible');\r\n                    img.classList.add('transparent');\r\n                })\r\n                userSelection=[];\r\n                unblockUserInput();\r\n            },500);\r\n            \r\n        }\r\n    }\r\n}\r\n\r\nfunction asignImages(){\r\n    const cards=document.querySelectorAll('.cover');\r\n    const asigmentsCounter=[0,0,0,0,0,0];\r\n    let i=0;\r\n    while(i<cards.length){\r\n        let j=Math.floor(Math.random()*(cards.length/2));\r\n        if(!(asigmentsCounter[j]==2)){\r\n            let img = document.createElement('IMG');\r\n            img.src=`build/img/${j+1}.jpg`;\r\n            img.classList.add('transparent');\r\n            cards[i].appendChild(img);\r\n            asigmentsCounter[j]++;\r\n            i++;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction cleanCards(){\r\n    const covers=document.querySelectorAll('.cover');\r\n    covers.forEach( cover => {\r\n        cover.firstElementChild.remove();\r\n    })\r\n}\r\n\r\nfunction styleOverlay(){\r\n    gameOverlay.classList.toggle('overlay-on');\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', ()=>{\r\n    startApp();\r\n})"]}